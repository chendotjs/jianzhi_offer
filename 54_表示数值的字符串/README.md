比较理想的方法是建立一个状态机DFA.

解析字符串，每解析到一步都有一个状态。每个状态之间根据当前输入进行跳转。对于一个输入，只可能跳到某一个状态，不可能出现二义性。

当字符串解析完之后，会停留在某个状态，如果这个状态是合法的终态，那么就算判断成功。

状态根据输入进行跳转，那么可以建立一个状态转移矩阵，所以矩阵的行列分别是状态和输入分类。

最主要的难点是根据规则建立一个DFA，并且定义出状态转移矩阵。

对于本题，状态主要有+/-、小数点、e/E等.

![](https://pic4.zhimg.com/e407d666017e1d3415b2ac8ddfd026d1_b.jpg)

输入的代号为

```
INVALID=0; SPACE=1; SIGN=2; DIGIT=3; DOT=4; EXPONENT=5;
```
